---
import { docsIcon, externalIcon } from "./_icons";

interface Props {
  path: string;
  label?: string;
}

const { path, label } = Astro.props;
const cleanPath = path.replace(/^\//, "");
const displayText =
  label ?? cleanPath.replace(/\.html$/, "").split("/").pop()!;
const href = `https://docs.python.org/${cleanPath}`;
---

<a href={href} class="ref-badge ref-docs" target="_blank" rel="noopener noreferrer">
  <span class="ref-icon" set:html={docsIcon} />
  <span class="ref-label">{displayText}</span>
  <span class="ref-external" set:html={externalIcon} />
</a>
